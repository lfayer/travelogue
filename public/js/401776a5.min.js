/*!
 * skrollr core
 *
 * Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr
 *
 * Free to use under terms of MIT license
 */
(function(e,t,n){"use strict";function r(n){if(a=t.documentElement,o=t.body,_(),st=this,n=n||{},dt=n.constants||{},n.easing)for(var r in n.easing)G[r]=n.easing[r];wt=n.edgeStrategy||"set",ut={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},ft=n.forceHeight!==!1,ft&&(Bt=n.scale||1),pt=n.mobileDeceleration||S,mt=n.smoothScrolling!==!1,vt=n.smoothScrollingDuration||C,gt={targetTop:st.getScrollTop()},$t=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),$t?(ct=t.getElementById(n.skrollrBody||E),ct&&it(),K(),Mt(a,[y,b],[w])):Mt(a,[y,T],[w]),st.refresh(),kt(e,"resize orientationchange",function(){var e=a.clientWidth,t=a.clientHeight;(t!==qt||e!==Ot)&&(qt=t,Ot=e,Rt=!0)});var i=Y();return function s(){Z(),bt=i(s)}(),st}var a,o,i={get:function(){return st},init:function(e){return st||new r(e)},VERSION:"0.6.29"},s=Object.prototype.hasOwnProperty,l=e.Math,c=e.getComputedStyle,u="touchstart",f="touchmove",d="touchcancel",p="touchend",h="skrollable",m=h+"-before",v=h+"-between",g=h+"-after",y="skrollr",w="no-"+y,T=y+"-desktop",b=y+"-mobile",k="linear",x=1e3,S=.004,E="skrollr-body",C=200,F="start",A="end",z="center",M="bottom",I="___skrollable_id",j=/^(?:input|textarea|button|select)$/i,P=/^\s+|\s+$/g,D=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,H=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,B=/^(@?[a-z\-]+)\[(\w+)\]$/,L=/-([a-z0-9_])/g,N=function(e,t){return t.toUpperCase()},V=/[\-+]?[\d]*\.?[\d]+/g,O=/\{\?\}/g,q=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,R=/[a-z\-]+-gradient/g,U="",$="",_=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(o,null);for(var r in t)if(U=r.match(e)||+r==r&&t[r].match(e))break;if(!U)return U=$="",n;U=U[0],"-"===U.slice(0,1)?($=U,U={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[U]):$="-"+U.toLowerCase()+"-"}},Y=function(){var t=e.requestAnimationFrame||e[U.toLowerCase()+"RequestAnimationFrame"],n=Pt();return($t||!t)&&(t=function(t){var r=Pt()-n,a=l.max(0,1e3/60-r);return e.setTimeout(function(){n=Pt(),t()},a)}),t},W=function(){var t=e.cancelAnimationFrame||e[U.toLowerCase()+"CancelAnimationFrame"];return($t||!t)&&(t=function(t){return e.clearTimeout(t)}),t},G={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-l.cos(e*l.PI)/2+.5},sqrt:function(e){return l.sqrt(e)},outCubic:function(e){return l.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-l.abs(3*l.cos(1.028*e*t)/t)}};r.prototype.refresh=function(e){var r,a,o=!1;for(e===n?(o=!0,lt=[],Ut=0,e=t.getElementsByTagName("*")):e.length===n&&(e=[e]),r=0,a=e.length;a>r;r++){var i=e[r],s=i,l=[],c=mt,u=wt,f=!1;if(o&&I in i&&delete i[I],i.attributes){for(var d=0,p=i.attributes.length;p>d;d++){var m=i.attributes[d];if("data-anchor-target"!==m.name)if("data-smooth-scrolling"!==m.name)if("data-edge-strategy"!==m.name)if("data-emit-events"!==m.name){var v=m.name.match(D);if(null!==v){var g={props:m.value,element:i,eventType:m.name.replace(L,N)};l.push(g);var y=v[1];y&&(g.constant=y.substr(1));var w=v[2];/p$/.test(w)?(g.isPercentage=!0,g.offset=(0|w.slice(0,-1))/100):g.offset=0|w;var T=v[3],b=v[4]||T;T&&T!==F&&T!==A?(g.mode="relative",g.anchors=[T,b]):(g.mode="absolute",T===A?g.isEnd=!0:g.isPercentage||(g.offset=g.offset*Bt))}}else f=!0;else u=m.value;else c="off"!==m.value;else if(s=t.querySelector(m.value),null===s)throw'Unable to find anchor target "'+m.value+'"'}if(l.length){var k,x,S;!o&&I in i?(S=i[I],k=lt[S].styleAttr,x=lt[S].classAttr):(S=i[I]=Ut++,k=i.style.cssText,x=zt(i)),lt[S]={element:i,styleAttr:k,classAttr:x,anchorTarget:s,keyFrames:l,smoothScrolling:c,edgeStrategy:u,emitEvents:f,lastFrameIndex:-1},Mt(i,[h],[])}}}for(Ct(),r=0,a=e.length;a>r;r++){var E=lt[e[r][I]];E!==n&&(J(E),tt(E))}return st},r.prototype.relativeToAbsolute=function(e,t,n){var r=a.clientHeight,o=e.getBoundingClientRect(),i=o.top,s=o.bottom-o.top;return t===M?i-=r:t===z&&(i-=r/2),n===M?i+=s:n===z&&(i+=s/2),i+=st.getScrollTop(),0|i+.5},r.prototype.animateTo=function(e,t){t=t||{};var r=Pt(),a=st.getScrollTop();return ht={startTop:a,topDiff:e-a,targetTop:e,duration:t.duration||x,startTime:r,endTime:r+(t.duration||x),easing:G[t.easing||k],done:t.done},ht.topDiff||(ht.done&&ht.done.call(st,!1),ht=n),st},r.prototype.stopAnimateTo=function(){ht&&ht.done&&ht.done.call(st,!0),ht=n},r.prototype.isAnimatingTo=function(){return!!ht},r.prototype.isMobile=function(){return $t},r.prototype.setScrollTop=function(t,n){return yt=n===!0,$t?_t=l.min(l.max(t,0),Ht):e.scrollTo(0,t),st},r.prototype.getScrollTop=function(){return $t?_t:e.pageYOffset||a.scrollTop||o.scrollTop||0},r.prototype.getMaxScrollTop=function(){return Ht},r.prototype.on=function(e,t){return ut[e]=t,st},r.prototype.off=function(e){return delete ut[e],st},r.prototype.destroy=function(){var e=W();e(bt),St(),Mt(a,[w],[y,T,b]);for(var t=0,r=lt.length;r>t;t++)ot(lt[t].element);a.style.overflow=o.style.overflow="",a.style.height=o.style.height="",ct&&i.setStyle(ct,"transform","none"),st=n,ct=n,ut=n,ft=n,Ht=0,Bt=1,dt=n,pt=n,Lt="down",Nt=-1,Ot=0,qt=0,Rt=!1,ht=n,mt=n,vt=n,gt=n,yt=n,Ut=0,wt=n,$t=!1,_t=0,Tt=n};var K=function(){var r,i,s,c,h,m,v,g,y,w,T,b;kt(a,[u,f,d,p].join(" "),function(e){var a=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(h=a.clientY,m=a.clientX,w=e.timeStamp,j.test(c.tagName)||e.preventDefault(),e.type){case u:r&&r.blur(),st.stopAnimateTo(),r=c,i=v=h,s=m,y=w;break;case f:j.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),g=h-v,b=w-T,st.setScrollTop(_t-g,!0),v=h,T=w;break;default:case d:case p:var o=i-h,k=s-m,x=k*k+o*o;if(49>x){if(!j.test(r.tagName)){r.focus();var S=t.createEvent("MouseEvents");S.initMouseEvent("click",!0,!0,e.view,1,a.screenX,a.screenY,a.clientX,a.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),r.dispatchEvent(S)}return}r=n;var E=g/b;E=l.max(l.min(E,3),-3);var C=l.abs(E/pt),F=E*C+.5*pt*C*C,A=st.getScrollTop()-F,z=0;A>Ht?(z=(Ht-A)/F,A=Ht):0>A&&(z=-A/F,A=0),C*=1-z,st.animateTo(0|A+.5,{easing:"outCubic",duration:C})}}),e.scrollTo(0,0),a.style.overflow=o.style.overflow="hidden"},Q=function(){var e,t,n,r,o,i,s,c,u,f,d,p=a.clientHeight,h=Ft();for(c=0,u=lt.length;u>c;c++)for(e=lt[c],t=e.element,n=e.anchorTarget,r=e.keyFrames,o=0,i=r.length;i>o;o++)s=r[o],f=s.offset,d=h[s.constant]||0,s.frame=f,s.isPercentage&&(f*=p,s.frame=f),"relative"===s.mode&&(ot(t),s.frame=st.relativeToAbsolute(n,s.anchors[0],s.anchors[1])-f,ot(t,!0)),s.frame+=d,ft&&!s.isEnd&&s.frame>Ht&&(Ht=s.frame);for(Ht=l.max(Ht,At()),c=0,u=lt.length;u>c;c++){for(e=lt[c],r=e.keyFrames,o=0,i=r.length;i>o;o++)s=r[o],d=h[s.constant]||0,s.isEnd&&(s.frame=Ht-s.offset+d);e.keyFrames.sort(Dt)}},X=function(e,t){for(var n=0,r=lt.length;r>n;n++){var a,o,l=lt[n],c=l.element,u=l.smoothScrolling?e:t,f=l.keyFrames,d=f.length,p=f[0],y=f[f.length-1],w=p.frame>u,T=u>y.frame,b=w?p:y,k=l.emitEvents,x=l.lastFrameIndex;if(w||T){if(w&&-1===l.edge||T&&1===l.edge)continue;switch(w?(Mt(c,[m],[g,v]),k&&x>-1&&(Et(c,p.eventType,Lt),l.lastFrameIndex=-1)):(Mt(c,[g],[m,v]),k&&d>x&&(Et(c,y.eventType,Lt),l.lastFrameIndex=d)),l.edge=w?-1:1,l.edgeStrategy){case"reset":ot(c);continue;case"ease":u=b.frame;break;default:case"set":var S=b.props;for(a in S)s.call(S,a)&&(o=at(S[a].value),0===a.indexOf("@")?c.setAttribute(a.substr(1),o):i.setStyle(c,a,o));continue}}else 0!==l.edge&&(Mt(c,[h,v],[m,g]),l.edge=0);for(var E=0;d-1>E;E++)if(u>=f[E].frame&&f[E+1].frame>=u){var C=f[E],F=f[E+1];for(a in C.props)if(s.call(C.props,a)){var A=(u-C.frame)/(F.frame-C.frame);A=C.props[a].easing(A),o=rt(C.props[a].value,F.props[a].value,A),o=at(o),0===a.indexOf("@")?c.setAttribute(a.substr(1),o):i.setStyle(c,a,o)}k&&x!==E&&("down"===Lt?Et(c,C.eventType,Lt):Et(c,F.eventType,Lt),l.lastFrameIndex=E);break}}},Z=function(){Rt&&(Rt=!1,Ct());var e,t,r=st.getScrollTop(),a=Pt();if(ht)a>=ht.endTime?(r=ht.targetTop,e=ht.done,ht=n):(t=ht.easing((a-ht.startTime)/ht.duration),r=0|ht.startTop+t*ht.topDiff),st.setScrollTop(r,!0);else if(!yt){var o=gt.targetTop-r;o&&(gt={startTop:Nt,topDiff:r-Nt,targetTop:r,startTime:Vt,endTime:Vt+vt}),gt.endTime>=a&&(t=G.sqrt((a-gt.startTime)/vt),r=0|gt.startTop+t*gt.topDiff)}if($t&&ct&&i.setStyle(ct,"transform","translate(0, "+-_t+"px) "+Tt),yt||Nt!==r){Lt=r>Nt?"down":Nt>r?"up":Lt,yt=!1;var s={curTop:r,lastTop:Nt,maxTop:Ht,direction:Lt},l=ut.beforerender&&ut.beforerender.call(st,s);l!==!1&&(X(r,st.getScrollTop()),Nt=r,ut.render&&ut.render.call(st,s)),e&&e.call(st,!1)}Vt=a},J=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var r,a,o,i,s=e.keyFrames[t],l={};null!==(i=H.exec(s.props));)o=i[1],a=i[2],r=o.match(B),null!==r?(o=r[1],r=r[2]):r=k,a=a.indexOf("!")?et(a):[a.slice(1)],l[o]={value:a,easing:G[r]};s.props=l}},et=function(e){var t=[];return q.lastIndex=0,e=e.replace(q,function(e){return e.replace(V,function(e){return 100*(e/255)+"%"})}),$&&(R.lastIndex=0,e=e.replace(R,function(e){return $+e})),e=e.replace(V,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},tt=function(e){var t,n,r={};for(t=0,n=e.keyFrames.length;n>t;t++)nt(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)nt(e.keyFrames[t],r)},nt=function(e,t){var n;for(n in t)s.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},rt=function(e,t,n){var r,a=e.length;if(a!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var o=[e[0]];for(r=1;a>r;r++)o[r]=e[r]+(t[r]-e[r])*n;return o},at=function(e){var t=1;return O.lastIndex=0,e[0].replace(O,function(){return e[t++]})},ot=function(e,t){e=[].concat(e);for(var n,r,a=0,o=e.length;o>a;a++)r=e[a],n=lt[r[I]],n&&(t?(r.style.cssText=n.dirtyStyleAttr,Mt(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=zt(r),r.style.cssText=n.styleAttr,Mt(r,n.classAttr)))},it=function(){Tt="translateZ(0)",i.setStyle(ct,"transform",Tt);var e=c(ct),t=e.getPropertyValue("transform"),n=e.getPropertyValue($+"transform"),r=t&&"none"!==t||n&&"none"!==n;r||(Tt="")};i.setStyle=function(e,t,n){var r=e.style;if(t=t.replace(L,N).replace("-",""),"zIndex"===t)r[t]=isNaN(n)?n:""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{U&&(r[U+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(a){}};var st,lt,ct,ut,ft,dt,pt,ht,mt,vt,gt,yt,wt,Tt,bt,kt=i.addEvent=function(t,n,r){var a=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),r.call(this,t)};n=n.split(" ");for(var o,i=0,s=n.length;s>i;i++)o=n[i],t.addEventListener?t.addEventListener(o,r,!1):t.attachEvent("on"+o,a),Yt.push({element:t,name:o,listener:r})},xt=i.removeEvent=function(e,t,n){t=t.split(" ");for(var r=0,a=t.length;a>r;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},St=function(){for(var e,t=0,n=Yt.length;n>t;t++)e=Yt[t],xt(e.element,e.name,e.listener);Yt=[]},Et=function(e,t,n){ut.keyframe&&ut.keyframe.call(st,e,t,n)},Ct=function(){var e=st.getScrollTop();Ht=0,ft&&!$t&&(o.style.height=""),Q(),ft&&!$t&&(o.style.height=Ht+a.clientHeight+"px"),$t?st.setScrollTop(l.min(st.getScrollTop(),Ht)):st.setScrollTop(e,!0),yt=!0},Ft=function(){var e,t,n=a.clientHeight,r={};for(e in dt)t=dt[e],"function"==typeof t?t=t.call(st):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),r[e]=t;return r},At=function(){var e,t=0;return ct&&(t=l.max(ct.offsetHeight,ct.scrollHeight)),e=l.max(t,o.scrollHeight,o.offsetHeight,a.scrollHeight,a.offsetHeight,a.clientHeight),e-a.clientHeight},zt=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},Mt=function(t,r,a){var o="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[o],o="baseVal"),a===n)return t[o]=r,n;for(var i=t[o],s=0,l=a.length;l>s;s++)i=jt(i).replace(jt(a[s])," ");i=It(i);for(var c=0,u=r.length;u>c;c++)-1===jt(i).indexOf(jt(r[c]))&&(i+=" "+r[c]);t[o]=It(i)},It=function(e){return e.replace(P,"")},jt=function(e){return" "+e+" "},Pt=Date.now||function(){return+new Date},Dt=function(e,t){return e.frame-t.frame},Ht=0,Bt=1,Lt="down",Nt=-1,Vt=Pt(),Ot=0,qt=0,Rt=!1,Ut=0,$t=!1,_t=0,Yt=[];"function"==typeof define&&define.amd?define([],function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.skrollr=i})(window,document),/*!
 * Plugin for skrollr.
 * This plugin makes hashlinks scroll nicely to their target position.
 *
 * Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr
 *
 * Free to use under terms of MIT license
 */
function(e,t){"use strict";var n=500,r="sqrt",a=1,o="data-menu-top",i="data-menu-offset",s=t.skrollr,l=t.history,c=!!l.pushState,u=function(t){return t===e?!1:"A"===t.tagName.toUpperCase()?t:u(t.parentNode)},f=function(e){if(1===e.which||0===e.button){var t=u(e.target);t&&d(t)&&e.preventDefault()}},d=function(t,n){var r=t.getAttribute("href");if(!/^#/.test(r))return!1;var a,s;if(s=w?w(t):t.getAttribute(o),null!==s)a=/p$/.test(s)?s.slice(0,-1)/100*e.documentElement.clientHeight:+s*T;else{var u=e.getElementById(r.substr(1));if(!u)return!1;a=m.relativeToAbsolute(u,"top","top");var f=u.getAttribute(i);null!==f&&(a+=+f)}return c&&!n&&l.pushState({top:a},"",r),y&&!n?m.animateTo(a,{duration:g(m.getScrollTop(),a),easing:v}):h(function(){m.setScrollTop(a)}),!0},p=function(){if(t.location.hash&&e.querySelector){var n=e.querySelector('a[href="'+t.location.hash+'"]');n||(n=e.createElement("a"),n.href=t.location.hash),d(n,!0)}},h=function(e){t.setTimeout(e,1)};s.menu={},s.menu.init=function(o,i){m=o,i=i||{},v=i.easing||r,y=i.animate!==!1,g=i.duration||n,w=i.handleLink,T=i.scale||a,"number"==typeof g&&(g=function(e){return function(){return e}}(g)),s.addEvent(e,"click",f),c&&s.addEvent(t,"popstate",function(e){var t=e.state||{},n=t.top||0;h(function(){m.setScrollTop(n)})},!1),p()},s.menu.click=function(e){d(e)};var m,v,g,y,w,T;h(function(){t.location.hash&&t.scrollTo(0,0)})}(document,window),window.throttle=function(e,t,n){var r,a,o,i=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:Date.now(),i=null,o=e.apply(r,a),i||(r=a=null)};return function(){var c=Date.now();s||n.leading!==!1||(s=c);var u=t-(c-s);return r=this,a=arguments,0>=u||u>t?(clearTimeout(i),i=null,s=c,o=e.apply(r,a),i||(r=a=null)):i||n.trailing===!1||(i=setTimeout(l,u)),o}},/*! jQuery slabtext plugin v2.2 MIT/GPL2 @freqdec */
function(e){e.fn.slabText=function(t){var n={fontRatio:.78,forceNewCharCount:!0,wrapAmpersand:!0,headerBreakpoint:null,viewportBreakpoint:null,noResizeEvent:!1,resizeThrottleTime:300,maxFontSize:999,postTweak:!0,precision:3,minCharsPerLine:0};return e("body").addClass("slabtexted"),this.each(function(){t&&e.extend(n,t);var r=e(this),a=e("span.slabtext",r).length,o=a?[]:(e.trim(r.text())+"").replace(/\s{2,}/g," ").split(" "),i=null,s=null,l=n.fontRatio,c=n.forceNewCharCount,u=n.headerBreakpoint,f=n.viewportBreakpoint,d=n.postTweak,p=n.precision,h=n.resizeThrottleTime,m=n.minCharsPerLine,v=null,g=e(window).width(),y=r.find("a:first").attr("href")||r.attr("href"),w=y?r.find("a:first").attr("title"):"";if(!(!a&&m&&m>o.join(" ").length)){var T=function(){var e=jQuery('<div style="display:none;font-size:1em;margin:0;padding:0;height:auto;line-height:1;border:0;">&nbsp;</div>').appendTo(r),t=e.height();return e.remove(),t},b=function b(){var t,h=r.width();if(r.removeClass("slabtextdone slabtextinactive"),f&&f>g||u&&u>h)return r.addClass("slabtextinactive"),void 0;if(t=T(),a||!c&&t==i)i=t;else{i=t;var v,b,k,x=Math.min(60,Math.floor(h/(i*l))),S=0,E=[],C="",F="",A="";if(x!=s){for(s=x;o.length>S;){for(F="";s>F.length&&(C=F,F+=o[S]+" ",!(++S>=o.length)););m&&(v=o.slice(S).join(" "),m>v.length&&(F+=v,C=F,S=o.length+2)),b=s-C.length,k=F.length-s,k>b&&C.length>=(m||2)?(A=C,S--):A=F,A=e("<div/>").text(A).html(),n.wrapAmpersand&&(A=A.replace(/&amp;/g,'<span class="amp">&amp;</span>')),A=e.trim(A),E.push('<span class="slabtext">'+A+"</span>")}r.html(E.join(" ")),y&&r.wrapInner('<a href="'+y+'" '+(w?'title="'+w+'" ':"")+"/>")}}e("span.slabtext",r).each(function(){var t,r,a,o=e(this),s=o.text(),l=s.split(" ").length>1;d&&o.css({"word-spacing":0,"letter-spacing":0}),r=h/o.width(),a=parseFloat(this.style.fontSize)||i,o.css("font-size",Math.min((a*r).toFixed(p),n.maxFontSize)+"px"),t=d?h-o.width():!1,t&&o.css((l?"word":"letter")+"-spacing",(t/(l?s.split(" ").length-1:s.length)).toFixed(p)+"px")}),r.addClass("slabtextdone")};b(),n.noResizeEvent||e(window).resize(function(){e(window).width()!=g&&(g=e(window).width(),clearTimeout(v),v=setTimeout(b,h))})}})}}(jQuery),jQuery(function(e){function t(){i(),e(".block-0 > h1").slabText(),r(),a();var t=skrollr.init({forceHeight:!1,render:function(){e(".sk-video.skrollable-before, .sk-video.skrollable-after").each(function(t,n){var r=e(n).data("player");r&&r.media&&(r.media.paused||(r.saveTime=r.media.currentTime,r.pause()),r.media.src!=r.saveSrc||"native"!=r.media.pluginType||mejs.MediaFeatures.hasTouch||(r.setSrc(""),r.load()))});var t=e(".skrollable-between").parent(".nav-item");t.length&&(e(".nav-item").not(t).removeClass("current"),t.addClass("current"),t.parent().hasClass("menu")||slidingMenu.slideFor(t.index())),$currentVideo=e(".sk-video.skrollable-between");var n=$currentVideo.data("player");if(n&&n.media&&n.media.paused&&!n.pausedByUser){"native"!=n.media.pluginType||mejs.MediaFeatures.hasTouch||(n.setSrc(n.saveSrc),n.load()),n.play(),n.startControlsTimer();var r=function(){n.play(),n.media.removeEventListener("canplay",r)};if(n.media.addEventListener("canplay",r),"native"==n.media.pluginType&&!mejs.MediaFeatures.hasTouch){var a=function(){n.setCurrentTime(n.saveTime),n.media.removeEventListener("playing",a)};n.saveTime&&n.media.addEventListener("playing",a)}}}});setTimeout(t.refresh,500),skrollr.menu.init(t),e(".block.video").on("mousedown",function(t){var n,r;if((n=e(this).data("player"))&&50>=e(window).height()-t.clientY){try{r=new MouseEvent(t.type,t)}catch(a){r=document.createEvent("MouseEvent"),r.initEvent(t.type,!0,!0)}n.controls.find(".mejs-time-total")[0].dispatchEvent(r)}}),e(".block.video").click(function(t){var n;(n=e(this).data("player"))&&(50>=e(window).height()-t.clientY||(n.media.paused?(n.pausedByUser=!1,n.play()):(n.pausedByUser=!0,n.pause())))}).mousemove(function(){var t;(t=e(this).data("player"))&&(t.showControls(),t.startControlsTimer())}),e(".sk-video").on("touchmove",function(e){return e.preventDefault(),!1}),e(".block").not(".block-0").mousemove(throttle(n,1e3)),e(".partage").fadeOut(),e(window).resize(function(){r(),o(),t.refresh()})}function n(){s&&clearTimeout(s),e(".partage").fadeIn(),s=setTimeout(function(){0==e(".partage a:hover").length&&e(".partage").fadeOut()},1200)}function r(){e(".block-0").height(e(window).height()),e(".sk-gallery > figure, .wp-video").height(e(window).height()+50),e(".gallery .the_gallery").each(function(t,n){var r="#"+e(n).parent().attr("id")+" .gal-"+e(n).attr("data-instance"),a=e('.sk-gallery[data-anchor-target="'+r+'"]'),o=a.find('[name="nbimages"]').attr("content");e(n).height(2*e(window).height()*o)}),e(".video").height(1.5*e(window).height())}function a(){e("video").mediaelementplayer({videoWidth:e(window).width(),videoHeight:e(window).height(),features:["progress"],success:function(t,n,r){r.saveSrc=t.src;var a=r.container.closest(".sk-video");a.data("player",r);var o=e(a.attr("data-anchor-target"));o.data("player",r),r.pausedByUser=!1,mejs.MediaFeatures.isiPhone&&t.addEventListener("pause",function(){r.pausedByUser=!0})}})}function o(){e(".sk-video").each(function(t,n){var r;(r=e(n).data("player"))&&(r.setPlayerSize(e(window).width(),e(window).height()),r.setControlsSize())})}function i(){mejs.MediaElementPlayer.prototype.setControlsSize=function(){var t=this,n=0,r=0,a=t.controls.find(".mejs-time-rail"),o=t.controls.find(".mejs-time-total"),i=(t.controls.find(".mejs-time-current"),t.controls.find(".mejs-time-loaded"),a.siblings()),s=i.last(),l=null;if(t.container.is(":visible")&&a.length&&a.is(":visible")){t.options&&!t.options.autosizeProgress&&(r=parseInt(a.css("width"),10)),0!==r&&r||(i.each(function(){var t=e(this);"absolute"!=t.css("position")&&t.is(":visible")&&(n+=e(this).outerWidth(!0))}),r=t.controls.width()-n-(a.outerWidth(!0)-a.width()));do a.width(r),o.width(r-(o.outerWidth(!0)-o.width())),"absolute"!=s.css("position")&&(l=s.length?s.position():null,r--);while(null!==l&&l.top>0&&r>0);t.setProgressRail&&t.setProgressRail(),t.setCurrentRail&&t.setCurrentRail()}}}var s;t()}),jQuery(function(e){function t(){e(window).resize(function(){f={width:e(window).width(),height:e(window).height()},v=.8*f.height-2*h,a(p.position().top),o()})}function n(){e("#main-menu .menu > a").first().hover(function(){clearInterval(u),r(-1),u=setInterval(function(){r(-1)},500)},function(){clearInterval(u)}),e("#main-menu .menu > a").last().hover(function(){clearInterval(u),r(1),u=setInterval(function(){r(1)},500)},function(){clearInterval(u)})}function r(e){if(void 0==e&&(e=1),!(p.queue().length||1==e&&i(m-1)||-1==e&&i(0))){var t=p.position().top,n=t-h*e;p.animate({top:n}),a(n),d=Math.abs(Math.floor(n/h))}}function a(e){var t="rect("+-e+"px "+f.width+"px "+(v-v%h-e+2)+"px 0px)";p.css("clip",t)}function o(){e("#main-menu .nav-item").last().css("bottom",Math.floor(.8*Math.max(f.height,400))%h)}function i(e){var t=p.position().top;return t+h*e>=1&&v+1>=t+h*(e+1)}function s(e){var t;e>m-1&&(e=m-1),i(e)?clearTimeout(t):(r(d>e?-1:1),t=setTimeout(function(){s(e)},500))}function l(){e("#main-menu").hover(function(){e(this).addClass("active")},function(){e(this).removeClass("active")})}function c(){t(),n(),a(p.position().top),o(),l()}var u,f={width:e(window).width(),height:e(window).height()},d=0,p=e("#main-menu-container"),h=p.find(".nav-item").height(),m=p.find(".nav-item").length,v=Math.ceil(.8*f.height-2*h);p.length&&c(),window.slidingMenu={slideUp:function(){r(1)},slideDown:function(){r(-1)},isVisible:i,slideFor:s}});